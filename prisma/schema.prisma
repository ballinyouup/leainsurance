// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Account {
  id            String     @id @unique
  agentId       String? // nullable if an account may not have an agent
  street1       String?
  street2       String?
  city          String?
  state         String?
  zipcode       String?
  country       String?
  phone         String?
  email         String?
  policyId      String?
  policyPlan    String?
  policyRenewal DateTime?
  documents     Document[] // relation to Document
  notes         Note[] // relation to Note
  createdAt     DateTime   @default(now())
}

model Document {
  id        String   @id @default(cuid())
  name      String?
  url       String
  createdAt DateTime @default(now())
  accountId String // add this field
  account   Account  @relation(fields: [accountId], references: [id]) // relation to Account
}

model Note {
  id        String   @id @default(cuid())
  title     String
  content   String
  createdAt DateTime @default(now())
  accountId String // add this field
  account   Account  @relation(fields: [accountId], references: [id]) // relation to Account
}
